<!-- TODO: update LOGIN_WIDGET_URL env var? -->
<!-- <script src="<%= widget_url %>"></script> -->
<script src="https://cdn.auth0.com/js/lock/10.0.0-rc.2/lock.min.js"></script>
<script type="text/javascript">
  var lock = new Auth0Lock('<%= account.clientId %>', '<%= account.namespace %>', {
  <%_ if (assetsUrl) { _%>
    assetsUrl: '<%= assetsUrl %>',
  <%_ } _%>
    auth: {
      redirectUrl: '<%= account.callback %>',
      responseType: <%- callbackOnHash ? "'token'" : "'code'," %>
    <%_ if (!callbackOnHash) { _%>
      params: {
        scope: 'openid email' // Learn about scopes: https://auth0.com/docs/scopes
      }
    <%_ } _%>
    }
  });
<%_ if (callbackOnHash) { _%>

  lock.on('authenticated', function(authResult) {
    lock.getProfile(authResult.idToken, function (error, profile) {
      // store authResult.idToken and profile in local storage or cookie
    });
  });
<%_ } _%>
</script>
<button onclick="lock.show();">Login</button>
